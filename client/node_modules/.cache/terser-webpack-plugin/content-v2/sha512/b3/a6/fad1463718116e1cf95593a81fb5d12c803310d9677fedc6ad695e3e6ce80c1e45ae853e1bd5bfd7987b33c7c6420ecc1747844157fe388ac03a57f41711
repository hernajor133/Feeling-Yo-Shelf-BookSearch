{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){},117:function(e,t,n){\"use strict\";n.r(t);var a,r,o,s,c,i=n(0),l=n(45),d=n.n(l),u=(n(107),n(108),n(34)),j=n(98),b=n(100),h=n(137),O=n(133),m=n(97),x=n(62),p=n(10),v=n(51),g=n(38),k=n(12),f=n(22),w=n.n(f),S=n(127),y=n(128),I=n(136),C=n(95),B=n(129),F=n(130),L=n(142),T=n(125),_=n(52),N=n(135),$=Object(N.a)(a||(a=Object(_.a)([\"\\n  mutation loginUser($email: String!, $password: String!) {\\n    loginUser(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),q=Object(N.a)(r||(r=Object(_.a)([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"]))),U=Object(N.a)(o||(o=Object(_.a)([\"\\n  mutation saveBook($book: savedBook!) {\\n    saveBook(book: $book) {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"]))),E=Object(N.a)(s||(s=Object(_.a)([\"\\n  mutation removeBook($bookId: ID!) {\\n    removeBook(bookId: $bookId) {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"]))),D=n(23),G=n(24),P=n(84),Y=n.n(P),J=new(function(){function e(){Object(D.a)(this,e)}return Object(G.a)(e,[{key:\"getProfile\",value:function(){return Y()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return Y()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"loginUser\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),K=function(e){var t=localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):null;if(!t)return!1;var n=null===t||void 0===t?void 0:t.filter((function(t){return t!==e}));return localStorage.setItem(\"saved_books\",JSON.stringify(n)),!0},V=n(3),z=function(){var e=Object(i.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(\"\"),o=Object(k.a)(r,2),s=o[0],c=o[1],l=Object(i.useState)(localStorage.getItem(\"saved_books\")?JSON.parse(localStorage.getItem(\"saved_books\")):[]),d=Object(k.a)(l,2),u=d[0],j=d[1],b=Object(T.a)(U),h=Object(k.a)(b,1)[0];Object(i.useEffect)((function(){return function(){var e;(e=u).length?localStorage.setItem(\"saved_books\",JSON.stringify(e)):localStorage.removeItem(\"saved_books\")}}));var O=function(){var e=Object(g.a)(w.a.mark((function e(t){var n,r,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(s));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error(\"something went wrong!\");case 9:return e.next=11,n.json();case 11:r=e.sent,o=r.items,i=o.map((function(e){var t;return{bookId:e.id,authors:e.volumeInfo.authors||[\"No author to display\"],title:e.volumeInfo.title,description:e.volumeInfo.description,image:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.thumbnail)||\"\"}})),a(i),c(\"\"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0);case 21:case\"end\":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(g.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.find((function(e){return e.bookId===t})),J.loggedIn()?J.getToken():null){e.next=4;break}return e.abrupt(\"return\",!1);case 4:return e.prev=4,e.next=7,h({variables:{book:a}});case 7:j([].concat(Object(v.a)(u),[a.bookId])),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(S.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(V.jsxs)(y.a,{children:[Object(V.jsx)(\"h1\",{children:\"Search for Books!\"}),Object(V.jsx)(I.a,{onSubmit:O,children:Object(V.jsxs)(I.a.Row,{children:[Object(V.jsx)(C.a,{xs:12,md:8,children:Object(V.jsx)(I.a.Control,{name:\"searchInput\",value:s,onChange:function(e){return c(e.target.value)},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),Object(V.jsx)(C.a,{xs:12,md:4,children:Object(V.jsx)(B.a,{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),Object(V.jsxs)(y.a,{children:[Object(V.jsx)(\"h2\",{children:n.length?\"Viewing \".concat(n.length,\" results:\"):\"Search for a book to begin\"}),Object(V.jsx)(F.a,{children:n.map((function(e){return Object(V.jsxs)(L.a,{border:\"dark\",children:[e.image?Object(V.jsx)(L.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(V.jsxs)(L.a.Body,{children:[Object(V.jsx)(L.a.Title,{children:e.title}),Object(V.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(V.jsx)(L.a.Text,{children:e.description}),J.loggedIn()&&Object(V.jsx)(B.a,{disabled:null===u||void 0===u?void 0:u.some((function(t){return t===e.bookId})),className:\"btn-block btn-info\",onClick:function(){return m(e.bookId)},children:null!==u&&void 0!==u&&u.some((function(t){return t===e.bookId}))?\"This book has already been saved!\":\"Save this Book!\"})]})]},e.bookId)}))})]})]})},A=n(131),H=Object(N.a)(c||(c=Object(_.a)([\"\\n  query me {\\n    me {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"]))),M=function(){var e=Object(A.a)(H),t=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.me)||{},r=Object(T.a)(E),o=Object(k.a)(r,1)[0],s=function(){var e=Object(g.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J.loggedIn()?J.getToken():null){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return e.prev=3,e.next=6,o({variables:{bookId:t}});case 6:K(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return t?Object(V.jsx)(\"h2\",{children:\"LOADING...\"}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(S.a,{fluid:!0,className:\"text-light bg-dark\",children:Object(V.jsx)(y.a,{children:Object(V.jsx)(\"h1\",{children:\"Viewing saved books!\"})})}),Object(V.jsxs)(y.a,{children:[Object(V.jsx)(\"h2\",{children:a.savedBooks.length?\"Viewing \".concat(a.savedBooks.length,\" saved \").concat(1===a.savedBooks.length?\"book\":\"books\",\":\"):\"You have no saved books!\"}),Object(V.jsx)(F.a,{children:a.savedBooks.map((function(e){return Object(V.jsxs)(L.a,{border:\"dark\",children:[e.image?Object(V.jsx)(L.a.Img,{src:e.image,alt:\"The cover for \".concat(e.title),variant:\"top\"}):null,Object(V.jsxs)(L.a.Body,{children:[Object(V.jsx)(L.a.Title,{children:e.title}),Object(V.jsxs)(\"p\",{className:\"small\",children:[\"Authors: \",e.authors]}),Object(V.jsx)(L.a.Text,{children:e.description}),Object(V.jsx)(B.a,{className:\"btn-block btn-danger\",onClick:function(){return s(e.bookId)},children:\"Delete this Book!\"})]})]},e.bookId)}))})]})]})},R=n(139),W=n(138),Q=n(134),X=n(140),Z=n(56),ee=n(132),te=function(){var e=Object(i.useState)({username:\"\",email:\"\",password:\"\"}),t=Object(k.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(k.a)(r,1)[0],s=Object(i.useState)(!1),c=Object(k.a)(s,2),l=c[0],d=c[1],j=Object(T.a)(q),b=Object(k.a)(j,1)[0],h=function(e){var t=e.target,r=t.name,o=t.value;a(Object(u.a)(Object(u.a)({},n),{},Object(Z.a)({},r,o)))},O=function(){var e=Object(g.a)(w.a.mark((function e(t){var r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b({variables:Object(u.a)({},n)});case 4:r=e.sent,o=r.data,J.loginUser(o.addUser.token),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),d(!0);case 13:a({username:\"\",email:\"\",password:\"\"});case 14:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(I.a,{noValidate:!0,validated:o,onSubmit:O,children:[Object(V.jsx)(ee.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your signup!\"}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:\"username\",children:\"Username\"}),Object(V.jsx)(I.a.Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:h,value:n.username,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(V.jsx)(I.a.Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:h,value:n.email,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(V.jsx)(I.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:h,value:n.password,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(V.jsx)(B.a,{disabled:!(n.username&&n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},ne=function(){var e=Object(i.useState)({email:\"\",password:\"\"}),t=Object(k.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(k.a)(r,1)[0],s=Object(i.useState)(!1),c=Object(k.a)(s,2),l=c[0],d=c[1],j=Object(T.a)($),b=Object(k.a)(j,1)[0],h=function(e){var t=e.target,r=t.name,o=t.value;a(Object(u.a)(Object(u.a)({},n),{},Object(Z.a)({},r,o)))},O=function(){var e=Object(g.a)(w.a.mark((function e(t){var r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b({variables:Object(u.a)({},n)});case 4:r=e.sent,o=r.data,J.loginUser(o.loginUser.token),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),d(!0);case 13:a({email:\"\",password:\"\"});case 14:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)(I.a,{noValidate:!0,validated:o,onSubmit:O,children:[Object(V.jsx)(ee.a,{dismissible:!0,onClose:function(){return d(!1)},show:l,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:\"email\",children:\"Email\"}),Object(V.jsx)(I.a.Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:h,value:n.email,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),Object(V.jsxs)(I.a.Group,{children:[Object(V.jsx)(I.a.Label,{htmlFor:\"password\",children:\"Password\"}),Object(V.jsx)(I.a.Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:h,value:n.password,required:!0}),Object(V.jsx)(I.a.Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),Object(V.jsx)(B.a,{disabled:!(n.email&&n.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})})},ae=function(){var e=Object(i.useState)(!1),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(R.a,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:Object(V.jsxs)(y.a,{fluid:!0,children:[Object(V.jsx)(R.a.Brand,{as:x.b,to:\"/\",children:\"Google Books Search\"}),Object(V.jsx)(R.a.Toggle,{\"aria-controls\":\"navbar\"}),Object(V.jsx)(R.a.Collapse,{id:\"navbar\",children:Object(V.jsxs)(W.a,{className:\"ml-auto\",children:[Object(V.jsx)(W.a.Link,{as:x.b,to:\"/\",children:\"Search For Books\"}),J.loggedIn()?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(W.a.Link,{as:x.b,to:\"/saved\",children:\"See Your Books\"}),Object(V.jsx)(W.a.Link,{onClick:J.logout,children:\"Logout\"})]}):Object(V.jsx)(W.a.Link,{onClick:function(){return a(!0)},children:\"Login/Sign Up\"})]})})]})}),Object(V.jsx)(Q.a,{size:\"lg\",show:n,onHide:function(){return a(!1)},\"aria-labelledby\":\"signup-modal\",children:Object(V.jsxs)(X.a.Container,{defaultActiveKey:\"login\",children:[Object(V.jsx)(Q.a.Header,{closeButton:!0,children:Object(V.jsx)(Q.a.Title,{id:\"signup-modal\",children:Object(V.jsxs)(W.a,{variant:\"pills\",children:[Object(V.jsx)(W.a.Item,{children:Object(V.jsx)(W.a.Link,{eventKey:\"login\",children:\"Login\"})}),Object(V.jsx)(W.a.Item,{children:Object(V.jsx)(W.a.Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),Object(V.jsx)(Q.a.Body,{children:Object(V.jsxs)(X.a.Content,{children:[Object(V.jsx)(X.a.Pane,{eventKey:\"login\",children:Object(V.jsx)(ne,{handleModalClose:function(){return a(!1)}})}),Object(V.jsx)(X.a.Pane,{eventKey:\"signup\",children:Object(V.jsx)(te,{handleModalClose:function(){return a(!1)}})})]})})]})})]})},re=Object(j.a)({uri:\"/graphql\"}),oe=Object(m.a)((function(e,t){var n=t.headers,a=localStorage.getItem(\"id_token\");return{headers:Object(u.a)(Object(u.a)({},n),{},{authorization:a?\"Bearer \".concat(a):\"\"})}})),se=new b.a({link:oe.concat(re),cache:new h.a});var ce=function(){return Object(V.jsx)(O.a,{client:se,children:Object(V.jsx)(x.a,{children:Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(ae,{}),Object(V.jsxs)(p.c,{children:[Object(V.jsx)(p.a,{path:\"/\",element:Object(V.jsx)(z,{})}),Object(V.jsx)(p.a,{path:\"/saved\",element:Object(V.jsx)(M,{})}),Object(V.jsx)(p.a,{path:\"*\",element:Object(V.jsx)(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})})};d.a.render(Object(V.jsx)(ce,{}),document.getElementById(\"root\"))}},[[117,1,2]]]);","name":"static/js/main.fe4f4e5b.chunk.js","map":{"version":3,"sources":["static/js/main.fe4f4e5b.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","queries_templateObject","react","react_dom","react_dom_default","n","objectSpread2","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","react_router_dom","react_router","toConsumableArray","asyncToGenerator","slicedToArray","regenerator","regenerator_default","Jumbotron","Container","Form","Col","Button","CardColumns","Card","useMutation","taggedTemplateLiteral","lib","LOGIN_USER","Object","ADD_USER","SAVE_BOOK","REMOVE_BOOK","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","value","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","removeBookId","bookId","savedBookIds","JSON","parse","updatedSavedBookIds","filter","savedBookId","stringify","jsx_runtime","pages_SearchBooks","_useState","_useState2","searchedBooks","setSearchedBooks","_useState3","_useState4","searchInput","setSearchInput","_useState5","_useState6","setSavedBookIds","_useMutation","saveBook","bookIdArr","length","handleFormSubmit","_ref","a","mark","_callee","event","response","_yield$response$json","items","bookData","wrap","_context","prev","next","preventDefault","abrupt","fetch","concat","sent","ok","Error","json","map","book","_book$volumeInfo$imag","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","t0","console","error","stop","_x","apply","arguments","handleSaveBook","_ref2","_callee2","bookToSave","_context2","find","loggedIn","variables","_x2","children","fluid","className","onSubmit","Row","xs","md","Control","name","onChange","e","target","type","size","placeholder","variant","border","Img","src","alt","Body","Title","Text","disabled","some","onClick","useQuery","GET_ME","pages_SavedBooks","_useQuery","loading","data","userData","me","removeBook","handleDeleteBook","savedBooks","Navbar","Nav","Modal","Tab","defineProperty","Alert","components_SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","handleInputChange","_event$target","_yield$addUser","loginUser","noValidate","dismissible","onClose","show","Group","Label","htmlFor","required","Feedback","components_LoginForm","_yield$loginUser","components_Navbar","showModal","setShowModal","bg","expand","Brand","as","to","Toggle","Collapse","Link","logout","onHide","defaultActiveKey","Header","closeButton","Item","eventKey","Content","Pane","handleModalClose","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","path","element","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(45);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(107);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(108);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 11 modules\nvar createHttpLink = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 12 modules\nvar ApolloClient = __webpack_require__(100);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 9 modules\nvar inMemoryCache = __webpack_require__(137);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(133);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/index.js\nvar react_router_dom = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./node_modules/react-router/index.js\nvar react_router = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(22);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Jumbotron.js\nvar Jumbotron = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 13 modules\nvar Form = __webpack_require__(136);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Col.js\nvar Col = __webpack_require__(95);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/CardColumns.js\nvar CardColumns = __webpack_require__(130);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Card.js + 1 modules\nvar Card = __webpack_require__(142);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 20 modules\nvar lib = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4;var LOGIN_USER=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation loginUser($email: String!, $password: String!) {\\n    loginUser(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser($username: String!, $email: String!, $password: String!) {\\n    addUser(username: $username, email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n        username\\n      }\\n    }\\n  }\\n\"])));var SAVE_BOOK=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation saveBook($book: savedBook!) {\\n    saveBook(book: $book) {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"])));var REMOVE_BOOK=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation removeBook($bookId: ID!) {\\n    removeBook(bookId: $bookId) {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"])));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(84);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\n// use this to decode a token and get the user's information out of it\n// create a new class to instantiate for a user\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:// get user data\nfunction getProfile(){return lib_default()(this.getToken());}// check if user's logged in\n},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);// handwaiving here\n}// check if token is expired\n},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem(\"id_token\");}},{key:\"loginUser\",value:function loginUser(idToken){// Saves user token to localStorage\nlocalStorage.setItem(\"id_token\",idToken);window.location.assign(\"/\");}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem(\"id_token\");// this will reload the page and reset the state of the application\nwindow.location.assign(\"/\");}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// CONCATENATED MODULE: ./src/utils/API.js\n// route to get logged in user's info (needs the token)\nvar getMe=function getMe(token){return fetch('/api/users/me',{headers:{'Content-Type':'application/json',authorization:\"Bearer \".concat(token)}});};var createUser=function createUser(userData){return fetch('/api/users',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});};var API_loginUser=function loginUser(userData){return fetch('/api/users/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userData)});};// save book data for a logged in user\nvar API_saveBook=function saveBook(bookData,token){return fetch('/api/users',{method:'PUT',headers:{'Content-Type':'application/json',authorization:\"Bearer \".concat(token)},body:JSON.stringify(bookData)});};// remove saved book data for a logged in user\nvar deleteBook=function deleteBook(bookId,token){return fetch(\"/api/users/books/\".concat(bookId),{method:'DELETE',headers:{authorization:\"Bearer \".concat(token)}});};// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nvar searchGoogleBooks=function searchGoogleBooks(query){return fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query));};\n// CONCATENATED MODULE: ./src/utils/localStorage.js\nvar getSavedBookIds=function getSavedBookIds(){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):[];return savedBookIds;};var saveBookIds=function saveBookIds(bookIdArr){if(bookIdArr.length){localStorage.setItem('saved_books',JSON.stringify(bookIdArr));}else{localStorage.removeItem('saved_books');}};var removeBookId=function removeBookId(bookId){var savedBookIds=localStorage.getItem('saved_books')?JSON.parse(localStorage.getItem('saved_books')):null;if(!savedBookIds){return false;}var updatedSavedBookIds=savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.filter(function(savedBookId){return savedBookId!==bookId;});localStorage.setItem('saved_books',JSON.stringify(updatedSavedBookIds));return true;};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/pages/SearchBooks.js\nvar SearchBooks_SearchBooks=function SearchBooks(){// create state for holding returned google api data\nvar _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchedBooks=_useState2[0],setSearchedBooks=_useState2[1];// create state for holding our search field data\nvar _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),searchInput=_useState4[0],setSearchInput=_useState4[1];// create state to hold saved bookId values\nvar _useState5=Object(react[\"useState\"])(getSavedBookIds()),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),savedBookIds=_useState6[0],setSavedBookIds=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SAVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),saveBook=_useMutation2[0];// set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\n// learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\nObject(react[\"useEffect\"])(function(){return function(){return saveBookIds(savedBookIds);};});// create method to search for books and set state on form submit\nvar handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var response,_yield$response$json,items,bookData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();if(searchInput){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return searchGoogleBooks(searchInput);case 6:response=_context.sent;if(response.ok){_context.next=9;break;}throw new Error(\"something went wrong!\");case 9:_context.next=11;return response.json();case 11:_yield$response$json=_context.sent;items=_yield$response$json.items;bookData=items.map(function(book){var _book$volumeInfo$imag;return{bookId:book.id,authors:book.volumeInfo.authors||[\"No author to display\"],title:book.volumeInfo.title,description:book.volumeInfo.description,image:((_book$volumeInfo$imag=book.volumeInfo.imageLinks)===null||_book$volumeInfo$imag===void 0?void 0:_book$volumeInfo$imag.thumbnail)||\"\"};});setSearchedBooks(bookData);setSearchInput(\"\");_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 21:case\"end\":return _context.stop();}}},_callee,null,[[3,18]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();// create function to handle saving a book to our database\nvar handleSaveBook=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(bookId){var bookToSave,token;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// find the book in `searchedBooks` state by the matching id\nbookToSave=searchedBooks.find(function(book){return book.bookId===bookId;});// get token\ntoken=auth.loggedIn()?auth.getToken():null;if(token){_context2.next=4;break;}return _context2.abrupt(\"return\",false);case 4:_context2.prev=4;_context2.next=7;return saveBook({variables:{book:bookToSave}});case 7:// if book successfully saves to user's account, save book id to state\nsetSavedBookIds([].concat(Object(toConsumableArray[\"a\" /* default */])(savedBookIds),[bookToSave.bookId]));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](4);console.error(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[4,10]]);}));return function handleSaveBook(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search for Books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */],{onSubmit:handleFormSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Row,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"searchInput\",value:searchInput,onChange:function onChange(e){return setSearchInput(e.target.value);},type:\"text\",size:\"lg\",placeholder:\"Search for a book\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{xs:12,md:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",variant:\"success\",size:\"lg\",children:\"Submit Search\"})})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:searchedBooks.length?\"Viewing \".concat(searchedBooks.length,\" results:\"):\"Search for a book to begin\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:searchedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),auth.loggedIn()&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:savedBookIds===null||savedBookIds===void 0?void 0:savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;}),className:\"btn-block btn-info\",onClick:function onClick(){return handleSaveBook(book.bookId);},children:savedBookIds!==null&&savedBookIds!==void 0&&savedBookIds.some(function(savedBookId){return savedBookId===book.bookId;})?\"This book has already been saved!\":\"Save this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SearchBooks = (SearchBooks_SearchBooks);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js\nvar useQuery = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar queries_templateObject;var GET_ME=Object(lib[\"a\" /* gql */])(queries_templateObject||(queries_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query me {\\n    me {\\n      _id\\n      username\\n      email\\n      bookCount\\n      savedBooks {\\n        bookId\\n        authors\\n        description\\n        title\\n        image\\n        link\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/SavedBooks.js\nvar SavedBooks_SavedBooks=function SavedBooks(){var _useQuery=Object(useQuery[\"a\" /* useQuery */])(GET_ME),loading=_useQuery.loading,data=_useQuery.data;var userData=(data===null||data===void 0?void 0:data.me)||{};var _useMutation=Object(useMutation[\"a\" /* useMutation */])(REMOVE_BOOK),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),removeBook=_useMutation2[0];var handleDeleteBook=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(bookId){var token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=auth.loggedIn()?auth.getToken():null;if(token){_context.next=3;break;}return _context.abrupt(\"return\",false);case 3:_context.prev=3;_context.next=6;return removeBook({variables:{bookId:bookId}});case 6:removeBookId(bookId);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[3,9]]);}));return function handleDeleteBook(_x){return _ref.apply(this,arguments);};}();if(loading){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"LOADING...\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Jumbotron[\"a\" /* default */],{fluid:true,className:\"text-light bg-dark\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Viewing saved books!\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:userData.savedBooks.length?\"Viewing \".concat(userData.savedBooks.length,\" saved \").concat(userData.savedBooks.length===1?\"book\":\"books\",\":\"):\"You have no saved books!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardColumns[\"a\" /* default */],{children:userData.savedBooks.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{border:\"dark\",children:[book.image?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Img,{src:book.image,alt:\"The cover for \".concat(book.title),variant:\"top\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Body,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Title,{children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"small\",children:[\"Authors: \",book.authors]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Text,{children:book.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"btn-block btn-danger\",onClick:function onClick(){return handleDeleteBook(book.bookId);},children:\"Delete this Book!\"})]})]},book.bookId);})})]})]});};/* harmony default export */ var pages_SavedBooks = (SavedBooks_SavedBooks);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Navbar.js + 4 modules\nvar Navbar = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Nav.js + 7 modules\nvar Nav = __webpack_require__(138);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Modal.js + 22 modules\nvar Modal = __webpack_require__(134);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Tab.js + 3 modules\nvar Tab = __webpack_require__(140);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Alert.js\nvar Alert = __webpack_require__(132);\n\n// CONCATENATED MODULE: ./src/components/SignupForm.js\nvar SignupForm_SignupForm=function SignupForm(){var _useState=Object(react[\"useState\"])({username:\"\",email:\"\",password:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$addUser,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return addUser({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 4:_yield$addUser=_context.sent;data=_yield$addUser.data;auth.loginUser(data.addUser.token);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setShowAlert(true);case 13:setUserFormData({username:\"\",email:\"\",password:\"\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your signup!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your username\",name:\"username\",onChange:handleInputChange,value:userFormData.username,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Username is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"email\",placeholder:\"Your email address\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.username&&userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_SignupForm = (SignupForm_SignupForm);\n// CONCATENATED MODULE: ./src/components/LoginForm.js\nvar LoginForm_LoginForm=function LoginForm(){var _useState=Object(react[\"useState\"])({email:\"\",password:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userFormData=_useState2[0],setUserFormData=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,1),validated=_useState4[0];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),loginUser=_useMutation2[0];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setUserFormData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userFormData),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var _yield$loginUser,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return loginUser({variables:Object(objectSpread2[\"a\" /* default */])({},userFormData)});case 4:_yield$loginUser=_context.sent;data=_yield$loginUser.data;auth.loginUser(data.loginUser.token);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setShowAlert(true);case 13:setUserFormData({email:\"\",password:\"\"});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{noValidate:true,validated:validated,onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */],{dismissible:true,onClose:function onClose(){return setShowAlert(false);},show:showAlert,variant:\"danger\",children:\"Something went wrong with your login credentials!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"text\",placeholder:\"Your email\",name:\"email\",onChange:handleInputChange,value:userFormData.email,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Email is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",placeholder:\"Your password\",name:\"password\",onChange:handleInputChange,value:userFormData.password,required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control.Feedback,{type:\"invalid\",children:\"Password is required!\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disabled:!(userFormData.email&&userFormData.password),type:\"submit\",variant:\"success\",children:\"Submit\"})]})});};/* harmony default export */ var components_LoginForm = (LoginForm_LoginForm);\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_AppNavbar=function AppNavbar(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */],{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{fluid:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Brand,{as:react_router_dom[\"b\" /* Link */],to:\"/\",children:\"Google Books Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Toggle,{\"aria-controls\":\"navbar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar[\"a\" /* default */].Collapse,{id:\"navbar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{className:\"ml-auto\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:react_router_dom[\"b\" /* Link */],to:\"/\",children:\"Search For Books\"}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{as:react_router_dom[\"b\" /* Link */],to:\"/saved\",children:\"See Your Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:auth.logout,children:\"Logout\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{onClick:function onClick(){return setShowModal(true);},children:\"Login/Sign Up\"})]})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */],{size:\"lg\",show:showModal,onHide:function onHide(){return setShowModal(false);},\"aria-labelledby\":\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Container,{defaultActiveKey:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Title,{id:\"signup-modal\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav[\"a\" /* default */],{variant:\"pills\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Nav[\"a\" /* default */].Link,{eventKey:\"signup\",children:\"Sign Up\"})})]})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Tab[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_LoginForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tab[\"a\" /* default */].Pane,{eventKey:\"signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SignupForm,{handleModalClose:function handleModalClose(){return setShowModal(false);}})})]})})]})})]});};/* harmony default export */ var components_Navbar = (Navbar_AppNavbar);\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:\"/graphql\"});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem(\"id_token\");return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):\"\"})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SearchBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/saved\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SavedBooks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"display-2\",children:\"Wrong page!\"})})]})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[117,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Jordi\\Documents\\Homework\\Feeling-Yo-Shelf-BookSearch\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jordi\\Documents\\Homework\\Feeling-Yo-Shelf-BookSearch\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jordi\\Documents\\Homework\\Feeling-Yo-Shelf-BookSearch\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jordi\\Documents\\Homework\\Feeling-Yo-Shelf-BookSearch\\client\\src\\index.css","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/utils/mutations.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/utils/auth.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/utils/API.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/utils/localStorage.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/pages/SearchBooks.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/utils/queries.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/pages/SavedBooks.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/components/SignupForm.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/components/LoginForm.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/components/Navbar.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/App.js","C:/Users/Jordi/Documents/Homework/Feeling-Yo-Shelf-BookSearch/client/src/index.js"],"names":["LOGIN_USER","gql","ADD_USER","SAVE_BOOK","REMOVE_BOOK","AuthService","decode","getToken","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","getMe","fetch","headers","authorization","createUser","userData","method","body","JSON","stringify","loginUser","saveBook","bookData","deleteBook","bookId","searchGoogleBooks","query","getSavedBookIds","savedBookIds","parse","saveBookIds","bookIdArr","length","removeBookId","updatedSavedBookIds","filter","savedBookId","SearchBooks","useState","searchedBooks","setSearchedBooks","searchInput","setSearchInput","setSavedBookIds","useMutation","useEffect","handleFormSubmit","event","preventDefault","response","ok","Error","json","items","map","book","id","authors","volumeInfo","title","description","image","imageLinks","thumbnail","console","error","handleSaveBook","bookToSave","find","Auth","loggedIn","variables","e","target","value","some","GET_ME","SavedBooks","useQuery","loading","data","me","removeBook","handleDeleteBook","savedBooks","SignupForm","username","email","password","userFormData","setUserFormData","validated","showAlert","setShowAlert","addUser","handleInputChange","name","LoginForm","AppNavbar","showModal","setShowModal","Link","logout","httpLink","createHttpLink","uri","authLink","setContext","_","client","ApolloClient","link","concat","cache","InMemoryCache","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { gql } from \"@apollo/client\";\r\n\r\nexport const LOGIN_USER = gql`\r\n  mutation loginUser($email: String!, $password: String!) {\r\n    loginUser(email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser($username: String!, $email: String!, $password: String!) {\r\n    addUser(username: $username, email: $email, password: $password) {\r\n      token\r\n      user {\r\n        _id\r\n        username\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SAVE_BOOK = gql`\r\n  mutation saveBook($book: savedBook!) {\r\n    saveBook(book: $book) {\r\n      _id\r\n      username\r\n      email\r\n      bookCount\r\n      savedBooks {\r\n        bookId\r\n        authors\r\n        description\r\n        title\r\n        image\r\n        link\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_BOOK = gql`\r\n  mutation removeBook($bookId: ID!) {\r\n    removeBook(bookId: $bookId) {\r\n      _id\r\n      username\r\n      email\r\n      bookCount\r\n      savedBooks {\r\n        bookId\r\n        authors\r\n        description\r\n        title\r\n        image\r\n        link\r\n      }\r\n    }\r\n  }\r\n`;","// use this to decode a token and get the user's information out of it\r\nimport decode from \"jwt-decode\";\r\n\r\n// create a new class to instantiate for a user\r\nclass AuthService {\r\n  // get user data\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  // check if user's logged in\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token); // handwaiving here\r\n  }\r\n\r\n  // check if token is expired\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem(\"id_token\");\r\n  }\r\n\r\n  loginUser(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem(\"id_token\", idToken);\r\n    window.location.assign(\"/\");\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem(\"id_token\");\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign(\"/\");\r\n  }\r\n}\r\n\r\nexport default new AuthService();","// route to get logged in user's info (needs the token)\r\nexport const getMe = (token) => {\r\n    return fetch('/api/users/me', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n  \r\n  export const createUser = (userData) => {\r\n    return fetch('/api/users', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(userData),\r\n    });\r\n  };\r\n  \r\n  export const loginUser = (userData) => {\r\n    return fetch('/api/users/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(userData),\r\n    });\r\n  };\r\n  \r\n  // save book data for a logged in user\r\n  export const saveBook = (bookData, token) => {\r\n    return fetch('/api/users', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(bookData),\r\n    });\r\n  };\r\n  \r\n  // remove saved book data for a logged in user\r\n  export const deleteBook = (bookId, token) => {\r\n    return fetch(`/api/users/books/${bookId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n  \r\n  // make a search to google books api\r\n  // https://www.googleapis.com/books/v1/volumes?q=harry+potter\r\n  export const searchGoogleBooks = (query) => {\r\n    return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\r\n  };","export const getSavedBookIds = () => {\r\n    const savedBookIds = localStorage.getItem('saved_books')\r\n      ? JSON.parse(localStorage.getItem('saved_books'))\r\n      : [];\r\n  \r\n    return savedBookIds;\r\n  };\r\n  \r\n  export const saveBookIds = (bookIdArr) => {\r\n    if (bookIdArr.length) {\r\n      localStorage.setItem('saved_books', JSON.stringify(bookIdArr));\r\n    } else {\r\n      localStorage.removeItem('saved_books');\r\n    }\r\n  };\r\n  \r\n  export const removeBookId = (bookId) => {\r\n    const savedBookIds = localStorage.getItem('saved_books')\r\n      ? JSON.parse(localStorage.getItem('saved_books'))\r\n      : null;\r\n  \r\n    if (!savedBookIds) {\r\n      return false;\r\n    }\r\n  \r\n    const updatedSavedBookIds = savedBookIds?.filter((savedBookId) => savedBookId !== bookId);\r\n    localStorage.setItem('saved_books', JSON.stringify(updatedSavedBookIds));\r\n  \r\n    return true;\r\n  };","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Card,\r\n  CardColumns,\r\n} from \"react-bootstrap\";\r\n\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { SAVE_BOOK } from \"../utils/mutations\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport { searchGoogleBooks } from \"../utils/API\";\r\nimport { saveBookIds, getSavedBookIds } from \"../utils/localStorage\";\r\n\r\nconst SearchBooks = () => {\r\n  // create state for holding returned google api data\r\n  const [searchedBooks, setSearchedBooks] = useState([]);\r\n  // create state for holding our search field data\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n\r\n  // create state to hold saved bookId values\r\n  const [savedBookIds, setSavedBookIds] = useState(getSavedBookIds());\r\n\r\n  const [saveBook] = useMutation(SAVE_BOOK);\r\n\r\n  // set up useEffect hook to save `savedBookIds` list to localStorage on component unmount\r\n  // learn more here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup\r\n  useEffect(() => {\r\n    return () => saveBookIds(savedBookIds);\r\n  });\r\n\r\n  // create method to search for books and set state on form submit\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!searchInput) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const response = await searchGoogleBooks(searchInput);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"something went wrong!\");\r\n      }\r\n\r\n      const { items } = await response.json();\r\n\r\n      const bookData = items.map((book) => ({\r\n        bookId: book.id,\r\n        authors: book.volumeInfo.authors || [\"No author to display\"],\r\n        title: book.volumeInfo.title,\r\n        description: book.volumeInfo.description,\r\n        image: book.volumeInfo.imageLinks?.thumbnail || \"\",\r\n      }));\r\n\r\n      setSearchedBooks(bookData);\r\n      setSearchInput(\"\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // create function to handle saving a book to our database\r\n  const handleSaveBook = async (bookId) => {\r\n    // find the book in `searchedBooks` state by the matching id\r\n    const bookToSave = searchedBooks.find((book) => book.bookId === bookId);\r\n    // get token\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      await saveBook({\r\n        variables: { book: bookToSave },\r\n      });\r\n\r\n      // if book successfully saves to user's account, save book id to state\r\n      setSavedBookIds([...savedBookIds, bookToSave.bookId]);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light bg-dark\">\r\n        <Container>\r\n          <h1>Search for Books!</h1>\r\n          <Form onSubmit={handleFormSubmit}>\r\n            <Form.Row>\r\n              <Col xs={12} md={8}>\r\n                <Form.Control\r\n                  name=\"searchInput\"\r\n                  value={searchInput}\r\n                  onChange={(e) => setSearchInput(e.target.value)}\r\n                  type=\"text\"\r\n                  size=\"lg\"\r\n                  placeholder=\"Search for a book\"\r\n                />\r\n              </Col>\r\n              <Col xs={12} md={4}>\r\n                <Button type=\"submit\" variant=\"success\" size=\"lg\">\r\n                  Submit Search\r\n                </Button>\r\n              </Col>\r\n            </Form.Row>\r\n          </Form>\r\n        </Container>\r\n      </Jumbotron>\r\n\r\n      <Container>\r\n        <h2>\r\n          {searchedBooks.length\r\n            ? `Viewing ${searchedBooks.length} results:`\r\n            : \"Search for a book to begin\"}\r\n        </h2>\r\n        <CardColumns>\r\n          {searchedBooks.map((book) => {\r\n            return (\r\n              <Card key={book.bookId} border=\"dark\">\r\n                {book.image ? (\r\n                  <Card.Img\r\n                    src={book.image}\r\n                    alt={`The cover for ${book.title}`}\r\n                    variant=\"top\"\r\n                  />\r\n                ) : null}\r\n                <Card.Body>\r\n                  <Card.Title>{book.title}</Card.Title>\r\n                  <p className=\"small\">Authors: {book.authors}</p>\r\n                  <Card.Text>{book.description}</Card.Text>\r\n                  {Auth.loggedIn() && (\r\n                    <Button\r\n                      disabled={savedBookIds?.some(\r\n                        (savedBookId) => savedBookId === book.bookId\r\n                      )}\r\n                      className=\"btn-block btn-info\"\r\n                      onClick={() => handleSaveBook(book.bookId)}\r\n                    >\r\n                      {savedBookIds?.some(\r\n                        (savedBookId) => savedBookId === book.bookId\r\n                      )\r\n                        ? \"This book has already been saved!\"\r\n                        : \"Save this Book!\"}\r\n                    </Button>\r\n                  )}\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchBooks;","import { gql } from \"@apollo/client\";\r\n\r\nexport const GET_ME = gql`\r\n  query me {\r\n    me {\r\n      _id\r\n      username\r\n      email\r\n      bookCount\r\n      savedBooks {\r\n        bookId\r\n        authors\r\n        description\r\n        title\r\n        image\r\n        link\r\n      }\r\n    }\r\n  }\r\n`;","import React from \"react\";\r\nimport {\r\n  Jumbotron,\r\n  Container,\r\n  CardColumns,\r\n  Card,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport { useQuery, useMutation } from \"@apollo/client\";\r\nimport { REMOVE_BOOK } from \"../utils/mutations\";\r\nimport { GET_ME } from \"../utils/queries\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport { removeBookId } from \"../utils/localStorage\";\r\n\r\nconst SavedBooks = () => {\r\n  const { loading, data } = useQuery(GET_ME);\r\n\r\n  const userData = data?.me || {};\r\n\r\n  const [removeBook] = useMutation(REMOVE_BOOK);\r\n\r\n  const handleDeleteBook = async (bookId) => {\r\n    const token = Auth.loggedIn() ? Auth.getToken() : null;\r\n\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      await removeBook({\r\n        variables: { bookId },\r\n      });\r\n      removeBookId(bookId);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <h2>LOADING...</h2>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Jumbotron fluid className=\"text-light bg-dark\">\r\n        <Container>\r\n          <h1>Viewing saved books!</h1>\r\n        </Container>\r\n      </Jumbotron>\r\n      <Container>\r\n        <h2>\r\n          {userData.savedBooks.length\r\n            ? `Viewing ${userData.savedBooks.length} saved ${\r\n                userData.savedBooks.length === 1 ? \"book\" : \"books\"\r\n              }:`\r\n            : \"You have no saved books!\"}\r\n        </h2>\r\n        <CardColumns>\r\n          {userData.savedBooks.map((book) => {\r\n            return (\r\n              <Card key={book.bookId} border=\"dark\">\r\n                {book.image ? (\r\n                  <Card.Img\r\n                    src={book.image}\r\n                    alt={`The cover for ${book.title}`}\r\n                    variant=\"top\"\r\n                  />\r\n                ) : null}\r\n                <Card.Body>\r\n                  <Card.Title>{book.title}</Card.Title>\r\n                  <p className=\"small\">Authors: {book.authors}</p>\r\n                  <Card.Text>{book.description}</Card.Text>\r\n                  <Button\r\n                    className=\"btn-block btn-danger\"\r\n                    onClick={() => handleDeleteBook(book.bookId)}\r\n                  >\r\n                    Delete this Book!\r\n                  </Button>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        </CardColumns>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SavedBooks;","import React, { useState } from \"react\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { ADD_USER } from \"../utils/mutations\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\n\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst SignupForm = () => {\r\n  const [userFormData, setUserFormData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [validated] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [addUser] = useMutation(ADD_USER);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await addUser({\r\n        variables: { ...userFormData },\r\n      });\r\n\r\n      Auth.loginUser(data.addUser.token);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setShowAlert(true);\r\n    }\r\n\r\n    setUserFormData({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* This is needed for the validation functionality above */}\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        {/* show alert if server response is bad */}\r\n        <Alert\r\n          dismissible\r\n          onClose={() => setShowAlert(false)}\r\n          show={showAlert}\r\n          variant=\"danger\"\r\n        >\r\n          Something went wrong with your signup!\r\n        </Alert>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"username\">Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your username\"\r\n            name=\"username\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.username}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Username is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Your email address\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Email is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Your password\"\r\n            name=\"password\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={\r\n            !(\r\n              userFormData.username &&\r\n              userFormData.email &&\r\n              userFormData.password\r\n            )\r\n          }\r\n          type=\"submit\"\r\n          variant=\"success\"\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignupForm;","import React, { useState } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { LOGIN_USER } from \"../utils/mutations\";\r\nimport Auth from \"../utils/auth\";\r\n\r\nconst LoginForm = () => {\r\n  const [userFormData, setUserFormData] = useState({ email: \"\", password: \"\" });\r\n  const [validated] = useState(false);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n\r\n  const [loginUser] = useMutation(LOGIN_USER);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUserFormData({ ...userFormData, [name]: value });\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await loginUser({\r\n        variables: { ...userFormData },\r\n      });\r\n      Auth.loginUser(data.loginUser.token);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setShowAlert(true);\r\n    }\r\n\r\n    setUserFormData({\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form noValidate validated={validated} onSubmit={handleFormSubmit}>\r\n        <Alert\r\n          dismissible\r\n          onClose={() => setShowAlert(false)}\r\n          show={showAlert}\r\n          variant=\"danger\"\r\n        >\r\n          Something went wrong with your login credentials!\r\n        </Alert>\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"email\">Email</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your email\"\r\n            name=\"email\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.email}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Email is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label htmlFor=\"password\">Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Your password\"\r\n            name=\"password\"\r\n            onChange={handleInputChange}\r\n            value={userFormData.password}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is required!\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Button\r\n          disabled={!(userFormData.email && userFormData.password)}\r\n          type=\"submit\"\r\n          variant=\"success\"\r\n        >\r\n          Submit\r\n        </Button>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navbar, Nav, Container, Modal, Tab } from 'react-bootstrap';\r\nimport SignUpForm from './SignupForm';\r\nimport LoginForm from './LoginForm';\r\n\r\nimport Auth from '../utils/auth';\r\n\r\nconst AppNavbar = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <Navbar bg='dark' variant='dark' expand='lg'>\r\n        <Container fluid>\r\n          <Navbar.Brand as={Link} to='/'>\r\n            Google Books Search\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls='navbar' />\r\n          <Navbar.Collapse id='navbar'>\r\n            <Nav className='ml-auto'>\r\n              <Nav.Link as={Link} to='/'>\r\n                Search For Books\r\n              </Nav.Link>\r\n              {/* if user is logged in show saved books and logout */}\r\n              {Auth.loggedIn() ? (\r\n                <>\r\n                  <Nav.Link as={Link} to='/saved'>\r\n                    See Your Books\r\n                  </Nav.Link>\r\n                  <Nav.Link onClick={Auth.logout}>Logout</Nav.Link>\r\n                </>\r\n              ) : (\r\n                <Nav.Link onClick={() => setShowModal(true)}>Login/Sign Up</Nav.Link>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n      {/* set modal data up */}\r\n      <Modal\r\n        size='lg'\r\n        show={showModal}\r\n        onHide={() => setShowModal(false)}\r\n        aria-labelledby='signup-modal'>\r\n        {/* tab container to do either signup or login component */}\r\n        <Tab.Container defaultActiveKey='login'>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title id='signup-modal'>\r\n              <Nav variant='pills'>\r\n                <Nav.Item>\r\n                  <Nav.Link eventKey='login'>Login</Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                  <Nav.Link eventKey='signup'>Sign Up</Nav.Link>\r\n                </Nav.Item>\r\n              </Nav>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Tab.Content>\r\n              <Tab.Pane eventKey='login'>\r\n                <LoginForm handleModalClose={() => setShowModal(false)} />\r\n              </Tab.Pane>\r\n              <Tab.Pane eventKey='signup'>\r\n                <SignUpForm handleModalClose={() => setShowModal(false)} />\r\n              </Tab.Pane>\r\n            </Tab.Content>\r\n          </Modal.Body>\r\n        </Tab.Container>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppNavbar;","import React from \"react\";\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider,\r\n  createHttpLink,\r\n} from \"@apollo/client\";\r\nimport { setContext } from \"@apollo/client/link/context\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport SearchBooks from \"./pages/SearchBooks\";\r\nimport SavedBooks from \"./pages/SavedBooks\";\r\nimport Navbar from \"./components/Navbar\";\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: \"/graphql\",\r\n});\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  const token = localStorage.getItem(\"id_token\");\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : \"\",\r\n    },\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <>\r\n          <Navbar />\r\n          <Routes>\r\n            <Route path=\"/\" element={<SearchBooks />} />\r\n            <Route path=\"/saved\" element={<SavedBooks />} />\r\n            <Route\r\n              path=\"*\"\r\n              element={<h1 className=\"display-2\">Wrong page!</h1>}\r\n            />\r\n          </Routes>\r\n        </>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <App />,\r\n\r\n  document.getElementById(\"root\")\r\n);"]}}